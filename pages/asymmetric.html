<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>éå°ç¨±åŠ å¯†ç¯„ä¾‹</title>
    <link rel="stylesheet" href="../styles/common.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css">
</head>
<body>
    <div class="container">
        <h1>ğŸ” éå°ç¨±åŠ å¯†ç¯„ä¾‹</h1>
        
        <nav class="nav-bar">
            <a href="../index.html">é¦–é </a>
            <a href="hash.html">é›œæ¹Šæ¼”ç®—æ³•</a>
            <a href="symmetric.html">å°ç¨±åŠ å¯†</a>
            <a href="asymmetric.html" class="active">éå°ç¨±åŠ å¯†</a>
            <a href="ethereum.html">Ethereum</a>
            <a href="bitcoin.html">Bitcoin</a>
            <a href="solana.html">Solana</a>
            <a href="cosmos.html">Cosmos</a>
                    <a href="tron.html">Tron</a>
            <a href="polkadot.html">Polkadot</a>
        </nav>

        <div class="info-box">
            <h4>ğŸ” éå°ç¨±åŠ å¯† (Asymmetric Encryption)</h4>
            <p>ä½¿ç”¨å…¬é‘°åŠ å¯†ã€ç§é‘°è§£å¯†ã€‚å…¬é‘°å¯å…¬é–‹ï¼Œç§é‘°ä¿å¯†ã€‚ç”¨æ–¼æ•¸ä½ç°½ç« ã€å¯†é‘°äº¤æ›ç­‰ã€‚</p>
        </div>

        <div class="demo-section">
            <h3>RSA-2048</h3>
            <p>åŸºæ–¼å¤§æ•¸åˆ†è§£é›£é¡Œçš„å…¬é‘°å¯†ç¢¼ç³»çµ±ã€‚</p>
            
            <div class="code-section">
                <div class="code-header">
                    <h4>ğŸ’» JavaScript ç¯„ä¾‹ (Web Crypto API)</h4>
                    <button class="copy-btn" onclick="copyCode(this, 'rsa-code')">è¤‡è£½</button>
                </div>
                <pre><code id="rsa-code" class="language-javascript">// ä½¿ç”¨ Web Crypto API ç”Ÿæˆ RSA å¯†é‘°å°
const keyPair = await window.crypto.subtle.generateKey(
    {
        name: "RSA-OAEP",
        modulusLength: 2048,
        publicExponent: new Uint8Array([1, 0, 1]),
        hash: "SHA-256"
    },
    true,
    ["encrypt", "decrypt"]
);

// åŠ å¯†
const encrypted = await window.crypto.subtle.encrypt(
    { name: "RSA-OAEP" },
    keyPair.publicKey,
    data
);

// è§£å¯†
const decrypted = await window.crypto.subtle.decrypt(
    { name: "RSA-OAEP" },
    keyPair.privateKey,
    encrypted
);</code></pre>
            </div>

            <button onclick="generateRSAKeys()">ç”Ÿæˆ RSA å¯†é‘°å°</button>
            <div id="rsaKeysOutput" class="output"></div>
            
            <div class="input-group" style="margin-top: 15px;">
                <label>æ˜æ–‡ï¼š</label>
                <input type="text" id="rsaPlaintext" value="RSA Encrypted Message" placeholder="è¼¸å…¥è¦åŠ å¯†çš„æ–‡å­—">
            </div>
            <button onclick="encryptRSA()">ğŸ”’ ä½¿ç”¨å…¬é‘°åŠ å¯†</button>
            <button onclick="decryptRSA()">ğŸ”“ ä½¿ç”¨ç§é‘°è§£å¯†</button>
            <div id="rsaOutput" class="output"></div>
        </div>

        <div class="demo-section">
            <h3>ECDSA (secp256k1)</h3>
            <p>æ©¢åœ“æ›²ç·šæ•¸ä½ç°½ç« æ¼”ç®—æ³•ï¼ŒBitcoin å’Œ Ethereum ä½¿ç”¨çš„æ›²ç·šã€‚</p>
            
            <div class="code-section">
                <div class="code-header">
                    <h4>ğŸ’» JavaScript ç¯„ä¾‹</h4>
                    <button class="copy-btn" onclick="copyCode(this, 'ecdsa-code')">è¤‡è£½</button>
                </div>
                <pre><code id="ecdsa-code" class="language-javascript">// ä½¿ç”¨ elliptic å‡½å¼åº«
const EC = require('elliptic').ec;
const ec = new EC('secp256k1');

// ç”Ÿæˆå¯†é‘°å°
const keyPair = ec.genKeyPair();
const privateKey = keyPair.getPrivate('hex');
const publicKey = keyPair.getPublic('hex');

// ç°½ç½²è¨Šæ¯
const message = "Sign this message";
const msgHash = CryptoJS.SHA256(message).toString();
const signature = keyPair.sign(msgHash);

// é©—è­‰ç°½å
const valid = keyPair.verify(msgHash, signature);
console.log("ç°½åæœ‰æ•ˆ:", valid);</code></pre>
            </div>

            <button onclick="generateECDSAKeys()">ç”Ÿæˆ ECDSA å¯†é‘°å°</button>
            <div id="ecdsaKeysOutput" class="output"></div>
            
            <div class="input-group" style="margin-top: 15px;">
                <label>è¨Šæ¯ï¼š</label>
                <input type="text" id="ecdsaMessage" value="Sign this message" placeholder="è¼¸å…¥è¦ç°½ç½²çš„è¨Šæ¯">
            </div>
            <button onclick="signECDSA()">âœï¸ ç°½ç½²</button>
            <button onclick="verifyECDSA()">âœ… é©—è­‰</button>
            <div id="ecdsaOutput" class="output"></div>
        </div>

        <div class="demo-section">
            <h3>Ed25519</h3>
            <p>EdDSA ç°½ç« æ¼”ç®—æ³•ï¼ŒSolanaã€Cardanoã€Polkadot ä½¿ç”¨ã€‚æ¯” ECDSA æ›´å¿«æ›´å®‰å…¨ã€‚</p>
            
            <div class="code-section">
                <div class="code-header">
                    <h4>ğŸ’» JavaScript ç¯„ä¾‹</h4>
                    <button class="copy-btn" onclick="copyCode(this, 'ed25519-code')">è¤‡è£½</button>
                </div>
                <pre><code id="ed25519-code" class="language-javascript">// ä½¿ç”¨ @noble/ed25519 å‡½å¼åº«
import * as ed25519 from '@noble/ed25519';

// ç”Ÿæˆå¯†é‘°å°
const privateKey = ed25519.utils.randomPrivateKey();
const publicKey = await ed25519.getPublicKey(privateKey);

// ç°½ç½²è¨Šæ¯
const message = new TextEncoder().encode("Solana message");
const signature = await ed25519.sign(message, privateKey);

// é©—è­‰ç°½å
const valid = await ed25519.verify(signature, message, publicKey);
console.log("ç°½åæœ‰æ•ˆ:", valid);</code></pre>
            </div>

            <button onclick="generateEd25519Keys()">ç”Ÿæˆ Ed25519 å¯†é‘°å°</button>
            <div id="ed25519KeysOutput" class="output"></div>
            
            <div class="input-group" style="margin-top: 15px;">
                <label>è¨Šæ¯ï¼š</label>
                <input type="text" id="ed25519Message" value="Solana message" placeholder="è¼¸å…¥è¦ç°½ç½²çš„è¨Šæ¯">
            </div>
            <button onclick="signEd25519()">âœï¸ ç°½ç½²</button>
            <button onclick="verifyEd25519()">âœ… é©—è­‰</button>
            <div id="ed25519Output" class="output"></div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.2.0/crypto-js.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/elliptic/6.5.4/elliptic.min.js"></script>
    <script src="https://unpkg.com/@noble/ed25519@1.7.3/index.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-javascript.min.js"></script>
    <script src="../scripts/asymmetric.js"></script>
    <script>
        function copyCode(btn, codeId) {
            const code = document.getElementById(codeId).textContent;
            navigator.clipboard.writeText(code).then(() => {
                btn.textContent = 'å·²è¤‡è£½ï¼';
                btn.classList.add('copied');
                setTimeout(() => {
                    btn.textContent = 'è¤‡è£½';
                    btn.classList.remove('copied');
                }, 2000);
            });
        }
    </script>
</body>
</html>
